{% load static %}
<!Doctype html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <title>Cafe</title>
</head>
<body>
    {% block cafe %}
        {% if cafes %}
            {% for cafe in cafes %}
                <div class="order">
                    <p>Заказ {{ cafe.id }} - Стол {{ cafe.table_number }}</p>
                    <p>Блюда:
                        {% for item in cafe.items.all %}
                            {{ item.name }} ({{ item.price }} руб.);
                        {% endfor %}
                    </p>
                    <p>Общая стоимость: {{ cafe.total_price }} руб.</p>
                    <p>Статус: {{ cafe.get_status_display }}</p>
                    <a href="{% url 'update_status' cafe.id %}">Изменить статус</a>
                    <a href="{% url 'delete_order' cafe.id %}">Удалить</a>
                    <li>{{ error }}</li>
                </div>
            {% endfor %}
        {% else %}
            <p>Вы пока что не добавили заказ</p>
        {% endif %}
        {% block add %} {% endblock add %}
        <a href="{% url 'add_order' %}">Добавить заказ</a>
        <a href="{% url 'total_revenue' %}">Выручка</a>
    {% endblock cafe %}
</body>
</html>